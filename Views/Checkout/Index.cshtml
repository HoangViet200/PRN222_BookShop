@model PRN222_BookShop.Models.ShoppingCart

<div class="container mt-4">
    <h2 class="mb-4">Thanh toán</h2>

    <!-- Danh sách sản phẩm -->
    <div class="card shadow-sm mb-4">
        <div class="card-body p-0">
            <h5 class="card-header bg-primary text-white">Danh sách sản phẩm</h5>

            <table class="table table-striped table-hover mb-0">
                <thead class="table-dark text-center">
                    <tr>
                        <th scope="col">Ảnh</th>
                        <th scope="col">Tên sách</th>
                        <th scope="col">Số lượng</th>
                        <th scope="col">Giá</th>
                        <th scope="col">Tổng</th>
                    </tr>
                </thead>
                <tbody class="align-middle text-center">
                    @foreach (var item in Model.Items)
                    {
                        <tr>
                            <td>
                                <img src="@item.ImageUrl" class="img-thumbnail" style="width:60px;" />
                            </td>
                            <td class="text-start">@item.BookName</td>
                            <td>@item.Quantity</td>
                            <td>@string.Format("{0:#,##0} đ", item.Price)</td>
                            <td>@string.Format("{0:#,##0} đ", item.TotalPrice)</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <!-- Form thanh toán -->
    <form method="post" asp-action="PlaceOrder" class="card p-3 shadow-sm">
        <div class="form-group mb-3">
            <label class="fw-bold">Địa chỉ giao hàng</label>
            <input type="text" name="shippingAddress" class="form-control" placeholder="Nhập địa chỉ giao hàng..." required />
        </div>

        <h4 class="mb-3">Tổng tiền: <span class="text-danger">@string.Format("{0:#,##0} đ", Model.GetTotalPrice())</span></h4>

        <button type="submit" class="btn btn-success btn-lg">
            <i class="bi bi-check2-circle"></i> Đặt hàng
        </button>
    </form>
</div>
